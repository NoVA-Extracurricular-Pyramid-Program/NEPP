<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Modern Calendar</title>
  <style>
    body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: #f3f4f6;
  display: flex;
}

.sidebar {
  width: 200px;
  background: #001f3f;
  padding: 1rem;
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.sidebar button {
  background: gold;
  border: none;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.calendar-container {
  flex-grow: 1;
  padding: 2rem;
  animation: fadeIn 0.5s ease;
}

.calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.calendar-header button {
  background: #001f3f;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.25rem;
}

#monthYear {
  color: #001f3f;
  font-size: 1.75rem;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
}

.day {
  background: white;
  padding: 1rem;
  border-radius: 20px;
  text-align: center;
  cursor: pointer;
  transition: 0.3s;
  position: relative;
}

.day:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.day.available {
  background: #d4edda;
  color: #155724;
}

.day .event {
  background: gold;
  color: #001f3f;
  padding: 2px 4px;
  font-size: 0.75rem;
  border-radius: 6px;
  position: absolute;
  bottom: 5px;
  left: 5px;
}

.modal {
  position: fixed;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.4s ease;
}

.modal-content {
  background: white;
  padding: 2rem;
  border-radius: 20px;
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.modal-content input {
  padding: 0.5rem;
  border-radius: 8px;
  border: 1px solid #ccc;
}

.modal-buttons {
  display: flex;
  justify-content: space-between;
}

.modal-buttons button {
  padding: 0.5rem;
  border: none;
  border-radius: 10px;
  background: #001f3f;
  color: white;
  cursor: pointer;
}

.modal-buttons #deleteEvent {
  background: crimson;
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}

  </style>
</head>
<body>
  <div class="sidebar">
    <button id="toggleMode">Availability Mode: OFF</button>
  </div>

  <div class="calendar-container">
    <div class="calendar-header">
      <button id="prevMonth">←</button>
      <h2 id="monthYear"></h2>
      <button id="nextMonth">→</button>
    </div>
    <div class="calendar-grid" id="calendarGrid"></div>
  </div>

  <!-- Event Modal -->
  <div class="modal" id="eventModal">
    <div class="modal-content">
      <h3>Add/Edit Event</h3>
      <input type="text" id="eventTitle" placeholder="Event Title" />
      <input type="date" id="eventStart" />
      <input type="date" id="eventEnd" />
      <div class="modal-buttons">
        <button id="saveEvent">Save</button>
        <button id="deleteEvent">Delete</button>
        <button id="closeModal">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    const calendarGrid = document.getElementById("calendarGrid");
const monthYear = document.getElementById("monthYear");
const prevMonth = document.getElementById("prevMonth");
const nextMonth = document.getElementById("nextMonth");
const toggleBtn = document.getElementById("toggleMode");

const modal = document.getElementById("eventModal");
const eventTitle = document.getElementById("eventTitle");
const eventStart = document.getElementById("eventStart");
const eventEnd = document.getElementById("eventEnd");
const saveEvent = document.getElementById("saveEvent");
const closeModal = document.getElementById("closeModal");
const deleteEvent = document.getElementById("deleteEvent");

let currentDate = new Date();
let selectedDay = null;
let isAvailabilityMode = false;
let availability = {};
let events = {};

function renderCalendar() {
  calendarGrid.innerHTML = "";
  const year = currentDate.getFullYear();
  const month = currentDate.getMonth();

  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month + 1, 0);
  const startDay = firstDay.getDay();

  monthYear.textContent = `${currentDate.toLocaleString("default", { month: "long" })} ${year}`;

  for (let i = 0; i < startDay; i++) {
    const empty = document.createElement("div");
    calendarGrid.appendChild(empty);
  }

  for (let d = 1; d <= lastDay.getDate(); d++) {
    const dateStr = `${year}-${String(month + 1).padStart(2, "0")}-${String(d).padStart(2, "0")}`;
    const dayEl = document.createElement("div");
    dayEl.classList.add("day");
    dayEl.dataset.date = dateStr;
    dayEl.textContent = d;

    if (availability[dateStr]) {
      dayEl.classList.add("available");
    }

    if (events[dateStr]) {
      const ev = document.createElement("div");
      ev.classList.add("event");
      ev.textContent = events[dateStr].title;
      dayEl.appendChild(ev);
    }

    dayEl.addEventListener("click", () => {
      if (isAvailabilityMode) {
        availability[dateStr] = !availability[dateStr];
        renderCalendar();
      } else {
        selectedDay = dateStr;
        if (events[selectedDay]) {
          eventTitle.value = events[selectedDay].title;
          eventStart.value = events[selectedDay].start;
          eventEnd.value = events[selectedDay].end;
        } else {
          eventTitle.value = "";
          eventStart.value = selectedDay;
          eventEnd.value = selectedDay;
        }
        modal.style.display = "flex";
      }
    });

    calendarGrid.appendChild(dayEl);
  }
}

toggleBtn.addEventListener("click", () => {
  isAvailabilityMode = !isAvailabilityMode;
  toggleBtn.textContent = `Availability Mode: ${isAvailabilityMode ? "ON" : "OFF"}`;
});

prevMonth.addEventListener("click", () => {
  currentDate.setMonth(currentDate.getMonth() - 1);
  renderCalendar();
});

nextMonth.addEventListener("click", () => {
  currentDate.setMonth(currentDate.getMonth() + 1);
  renderCalendar();
});

saveEvent.addEventListener("click", () => {
  if (!selectedDay) return;
  events[selectedDay] = {
    title: eventTitle.value,
    start: eventStart.value,
    end: eventEnd.value
  };
  modal.style.display = "none";
  renderCalendar();
});

closeModal.addEventListener("click", () => {
  modal.style.display = "none";
});

deleteEvent.addEventListener("click", () => {
  if (events[selectedDay]) {
    delete events[selectedDay];
  }
  modal.style.display = "none";
  renderCalendar();
});

renderCalendar();

  </script>
</body>
</html>
